<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ê°€íƒ€ì¹´ë‚˜ ë§ˆìŠ¤í„° â˜ï¸</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>â˜ï¸</text></svg>">
    
    <link href="https://fonts.googleapis.com/css2?family=Nanum+Gothic:wght@400;700&family=Nanum+Pen+Script&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --bg-color: #fdf6f0;
            --card-bg: #ffffff;
            --primary: #a7c7e7;
            --secondary: #c1e1c1;
            --accent: #ffb7b2;
            --text-color: #5d5d5d;
            --btn-bg: #f8f9fa;
        }

        body { 
            font-family: 'Nanum Gothic', sans-serif; 
            background-color: var(--bg-color); 
            color: var(--text-color);
            display: flex; flex-direction: column; align-items: center; 
            margin: 0; padding: 20px; 
            min-height: 100vh;
            touch-action: manipulation;
        }

        .app-icon { font-size: 40px; margin-bottom: 5px; display: block; }

        #game-container { 
            background: var(--card-bg); 
            padding: 25px; border-radius: 35px; 
            box-shadow: 0 15px 35px rgba(0,0,0,0.03); 
            width: 100%; max-width: 450px; text-align: center;
            border: 6px solid #fff;
            box-sizing: border-box;
            position: relative;
        }

        .mode-badge {
            display: inline-block; padding: 6px 18px; border-radius: 50px;
            font-size: 13px; font-weight: bold; margin-bottom: 15px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.05);
        }
        .mode-normal { background: var(--primary); color: white; }
        .mode-review { background: var(--accent); color: white; }

        .setup-section { margin-bottom: 15px; font-size: 14px; color: #bbb; display: flex; justify-content: center; align-items: center; gap: 8px; }
        select { 
            padding: 6px 12px; border-radius: 12px; border: 1.5px solid #f0f0f0; 
            font-family: 'Nanum Gothic', sans-serif; color: #888; outline: none; background: #fff;
        }

        #word-display { 
            font-family: 'Nanum Pen Script', cursive; 
            font-size: 60px;
            font-weight: 400; margin: 15px 0; 
            color: #444; text-shadow: 2px 2px 0px #f8f8f8;
            min-height: 95px; line-height: 1.1;
            display: flex; align-items: center; justify-content: center;
        }

        .options-grid { display: grid; gap: 14px; margin-top: 10px; }
        
        button { 
            font-family: 'Nanum Gothic', sans-serif;
            padding: 18px; font-size: 20px; cursor: pointer; 
            border: none; border-radius: 22px; 
            background: var(--btn-bg); color: var(--text-color);
            transition: all 0.2s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            box-shadow: 0 5px 0px #eee;
        }

        button:hover:not(:disabled) { background: #fff; transform: translateY(-3px); box-shadow: 0 8px 0px #eee; }
        button:active:not(:disabled) { transform: translateY(2px); box-shadow: none; }
        button:disabled { opacity: 0.7; cursor: default; }

        #score-display { 
            margin-top: 25px; font-size: 13px; color: #bbb;
            background: #fafafa; padding: 15px; border-radius: 20px;
            display: flex; justify-content: space-around;
        }

        .feedback { font-weight: bold; margin: 15px 0; height: 35px; font-size: 22px; display: flex; align-items: center; justify-content: center; gap: 5px; }
        .correct { color: #a2d2ff; }
        .incorrect { color: #ffafcc; }

        .result-icon { font-size: 60px; margin-bottom: 10px; display: block; }
        .result-screen { display: none; padding: 20px 0; }
        .btn-action { color: white; font-weight: bold; margin-top: 15px; width: 100%; font-size: 19px; border: none; cursor: pointer; }
        .btn-blue { background: var(--primary); box-shadow: 0 5px 0px #8eb4d9; border-radius: 22px; padding: 20px; }
        .btn-orange { background: var(--accent); box-shadow: 0 5px 0px #e5a19d; border-radius: 22px; padding: 20px; }
        .hidden { display: none; }
    </style>
</head>
<body>

    <span class="app-icon">â˜ï¸</span>
    
    <div id="game-container">
        <div id="quiz-screen">
            <div id="mode-indicator" class="mode-badge mode-normal">í•™ìŠµ ëª¨ë“œ</div>
            <div class="setup-section">
                <span>âš™ï¸ ë³´ê¸° ì„¤ì •:</span>
                <select id="option-count" onchange="restartOnOptionChange()">
                    <option value="2">2ì§€ ì„ ë‹¤</option>
                    <option value="3">3ì§€ ì„ ë‹¤</option>
                    <option value="4" selected>4ì§€ ì„ ë‹¤</option>
                    <option value="5">5ì§€ ì„ ë‹¤</option>
                </select>
            </div>

            <div id="word-display">...</div>
            <div id="options" class="options-grid"></div>
            <div id="feedback" class="feedback"></div>
            
            <div id="score-display">
                <span>ğŸ“ <span id="current-q-num">1</span>/10</span>
                <span>â­ <span id="correct-q-num">0</span></span>
            </div>
        </div>

        <div id="result-screen" class="result-screen">
            <span id="res-icon" class="result-icon">ğŸ‰</span>
            <h2 id="result-title">ì°¸ ì˜í–ˆì–´ìš”!</h2>
            <p id="result-stats" style="font-size: 22px; color: #777; margin: 10px 0;"></p>
            <p id="result-msg" style="font-size: 16px; color: #aaa; margin-bottom: 25px; line-height: 1.5;"></p>
            <button onclick="startGame()" class="btn-action btn-blue">âœ¨ ìƒˆë¡œìš´ 10ë¬¸ì œ</button>
            <button id="retry-failed-btn" onclick="startRetryMode()" class="btn-action btn-orange">ğŸ” í‹€ë¦° ë¬¸ì œ ë³µìŠµí•˜ê¸°</button>
        </div>
    </div>

<script>
    const originalData = [
        // --- ê¸°ë³¸ ë° ìŒì‹ ê´€ë ¨ ---
        {k: "ã‚¢ã‚¤ã‚¹ã‚¯ãƒªãƒ¼ãƒ ", m: "ì•„ì´ìŠ¤í¬ë¦¼"}, {k: "ãƒ“ãƒ¼ãƒ«", m: "ë§¥ì£¼"}, {k: "ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ãƒ¼", m: "ì»´í“¨í„°"}, {k: "ã‚µãƒ³ãƒ‰ã‚¤ãƒƒãƒ", m: "ìƒŒë“œìœ„ì¹˜"},
        {k: "ã‚³ãƒ¼ãƒ’ãƒ¼", m: "ì»¤í”¼"}, {k: "ã‚³ãƒ¼ãƒ©", m: "ì½œë¼"}, {k: "ãƒ†ãƒ¬ãƒ“", m: "í…”ë ˆë¹„ì „"}, {k: "ãƒ©ã‚¸ã‚ª", m: "ë¼ë””ì˜¤"},
        {k: "ã‚«ãƒ¡ãƒ©", m: "ì¹´ë©”ë¼"}, {k: "ãƒ”ã‚¢ãƒ", m: "í”¼ì•„ë…¸"}, {k: "ã‚®ã‚¿ãƒ¼", m: "ê¸°íƒ€"}, {k: "ãƒã‚¹", m: "ë²„ìŠ¤"},
        {k: "ã‚¿ã‚¯ã‚·ãƒ¼", m: "íƒì‹œ"}, {k: "ãƒ›ãƒ†ãƒ«", m: "í˜¸í…”"}, {k: "ãƒ¬ã‚¹ãƒˆãƒ©ãƒ³", m: "ë ˆìŠ¤í† ë‘"}, {k: "ãƒ¡ãƒ‹ãƒ¥ãƒ¼", m: "ë©”ë‰´"},
        {k: "ãƒ‘ãƒ³", m: "ë¹µ"}, {k: "ãƒˆã‚¤ãƒ¬", m: "í™”ì¥ì‹¤"}, {k: "ãƒ‹ãƒ¥ãƒ¼ã‚¹", m: "ë‰´ìŠ¤"}, {k: "ãƒãƒ¼ãƒˆ", m: "ë…¸íŠ¸"},
        {k: "ãƒšãƒ³", m: "íœ"}, {k: "ãƒ—ãƒ¬ã‚¼ãƒ³ãƒˆ", m: "ì„ ë¬¼"}, {k: "ã‚±ãƒ¼ã‚­", m: "ì¼€ì´í¬"}, {k: "ã‚µãƒ©ãƒ€", m: "ìƒëŸ¬ë“œ"},
        {k: "ãƒãƒ¼ã‚º", m: "ì¹˜ì¦ˆ"}, {k: "ãƒãƒ§ã‚³", m: "ì´ˆì½”"}, {k: "ãƒãƒŠãƒŠ", m: "ë°”ë‚˜ë‚˜"}, {k: "ã‚ªãƒ¬ãƒ³ã‚¸", m: "ì˜¤ë Œì§€"},
        {k: "ã‚¢ãƒƒãƒ—ãƒ«", m: "ì• í”Œ"}, {k: "ãƒŸãƒ«ã‚¯", m: "ë°€í¬"}, {k: "ã‚¯ãƒ©ã‚¹", m: "í´ë˜ìŠ¤"}, {k: "ãƒ†ã‚¹ãƒˆ", m: "í…ŒìŠ¤íŠ¸"},
        {k: "ãƒ†ãƒ‹ã‚¹", m: "í…Œë‹ˆìŠ¤"}, {k: "ã‚µãƒƒã‚«ãƒ¼", m: "ì‚¬ì»¤"}, {k: "ã‚¹ã‚­ãƒ¼", m: "ìŠ¤í‚¤"}, {k: "ãƒ€ãƒ³ã‚¹", m: "ëŒ„ìŠ¤"},
        {k: "ãƒ‰ãƒ©ãƒ", m: "ë“œë¼ë§ˆ"}, {k: "ã‚¢ãƒ‹ãƒ¡", m: "ì• ë‹ˆë©”ì´ì…˜"}, {k: "ã‚²ãƒ¼ãƒ ", m: "ê²Œì„"}, {k: "ã‚µã‚¤ãƒˆ", m: "ì‚¬ì´íŠ¸"},
        {k: "ã‚¹ãƒãƒ›", m: "ìŠ¤ë§ˆíŠ¸í°"}, {k: "ã‚¢ãƒ—ãƒª", m: "ì•±"}, {k: "ãƒ‘ã‚½ã‚³ãƒ³", m: "PC"}, {k: "ãƒã‚¦ã‚¹", m: "ë§ˆìš°ìŠ¤"},
        {k: "ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰", m: "í‚¤ë³´ë“œ"}, {k: "ãƒ¢ãƒ‹ã‚¿ãƒ¼", m: "ëª¨ë‹ˆí„°"}, {k: "ãƒšãƒ¼ã‚¸", m: "í˜ì´ì§€"}, {k: "ã‚³ãƒ”ãƒ¼", m: "ì¹´í”¼"},
        {k: "ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼", m: "ìº˜ë¦°ë”"}, {k: "ãƒ™ãƒƒãƒ‰", m: "ì¹¨ëŒ€"}, {k: "ã‚½ãƒ•ã‚¡", m: "ì†ŒíŒŒ"}, {k: "ãƒ‰ã‚¢", m: "ë„ì–´"},
        {k: "ã‚³ãƒƒãƒ—", m: "ì»µ"}, {k: "ã‚¹ãƒ—ãƒ¼ãƒ³", m: "ìŠ¤í‘¼"}, {k: "ãƒ•ã‚©ãƒ¼ã‚¯", m: "í¬í¬"}, {k: "ãƒŠã‚¤ãƒ•", m: "ë‚˜ì´í”„"},
        {k: "ã‚·ãƒ£ãƒ„", m: "ì…”ì¸ "}, {k: "ãƒ‘ãƒ³ãƒ„", m: "íŒ¬ì¸ "}, {k: "ã‚¹ã‚«ãƒ¼ãƒˆ", m: "ìŠ¤ì»¤íŠ¸"}, {k: "ãƒã‚¯ã‚¿ã‚¤", m: "ë„¥íƒ€ì´"},
        {k: "ãƒãƒƒã‚°", m: "ë°±"}, {k: "ãƒ¡ã‚¬ãƒ", m: "ì•ˆê²½"}, {k: "ãƒãƒƒã‚¯ãƒ¬ã‚¹", m: "ëª©ê±¸ì´"}, {k: "ã‚·ãƒ£ãƒ³ãƒ—ãƒ¼", m: "ìƒ´í‘¸"},
        {k: "ã‚¿ã‚ªãƒ«", m: "íƒ€ì›”"}, {k: "ãƒ–ãƒ©ã‚·", m: "ë¸ŒëŸ¬ì‹œ"}, {k: "ãƒãƒƒã‚µãƒ¼ã‚¸", m: "ë§ˆì‚¬ì§€"}, {k: "ã‚¹ãƒãƒ¼ãƒ„", m: "ìŠ¤í¬ì¸ "},
        {k: "ã‚­ãƒ£ãƒ³ãƒ—", m: "ìº í”„"}, {k: "ãƒ‰ãƒ©ã‚¤ãƒ–", m: "ë“œë¼ì´ë¸Œ"}, {k: "ã‚¤ãƒ™ãƒ³ãƒˆ", m: "ì´ë²¤íŠ¸"}, {k: "ãƒãƒ£ãƒ³ã‚¹", m: "ì°¬ìŠ¤"},
        {k: "ã‚¢ãƒ‰ãƒã‚¤ã‚¹", m: "ì–´ë“œë°”ì´ìŠ¤"}, {k: "ãƒˆãƒ©ãƒ–ãƒ«", m: "íŠ¸ëŸ¬ë¸”"}, {k: "ã‚¹ã‚¿ã‚¤ãƒ«", m: "ìŠ¤íƒ€ì¼"}, {k: "ãƒ‡ã‚¶ã‚¤ãƒ³", m: "ë””ìì¸"},
        {k: "ã‚¤ãƒ¡ãƒ¼ã‚¸", m: "ì´ë¯¸ì§€"}, {k: "ãƒ¢ãƒ‡ãƒ«", m: "ëª¨ë¸"}, {k: "ã‚¢ã‚¤ãƒ‰ãƒ«", m: "ì•„ì´ëŒ"}, {k: "ã‚¹ã‚¿ãƒ¼", m: "ìŠ¤íƒ€"},
        {k: "ã‚¸ãƒ£ã‚º", m: "ì¬ì¦ˆ"}, {k: "ãƒ­ãƒƒã‚¯", m: "ë¡"}, {k: "ãƒãƒƒãƒ—ã‚¹", m: "íŒ"}, {k: "ã‚¯ãƒ©ã‚·ãƒƒã‚¯", m: "í´ë˜ì‹"},
        {k: "ãƒ¯ãƒ¼ãƒ«ãƒ‰", m: "ì›”ë“œ"}, {k: "ã‚µãƒ¼ãƒ“ã‚¹", m: "ì„œë¹„ìŠ¤"}, {k: "ã‚·ã‚¹ãƒ†ãƒ ", m: "ì‹œìŠ¤í…œ"}, {k: "ãƒ‡ãƒ¼ã‚¿", m: "ë°ì´í„°"},
        {k: "ãƒ‡ã‚¸ã‚¿ãƒ«", m: "ë””ì§€í„¸"}, {k: "ãƒãƒƒãƒˆ", m: "ë„·"}, {k: "ãƒ—ãƒ­", m: "í”„ë¡œ"}, {k: "ãƒãƒ¼ãƒ ", m: "íŒ€"},
        {k: "ãƒ«ãƒ¼ãƒ«", m: "ë£°"}, {k: "ã‚³ãƒ¼ã‚¹", m: "ì½”ìŠ¤"}, {k: "ã‚¨ãƒªã‚¢", m: "ì—ë¦¬ì–´"}, {k: "ã‚·ãƒ§ãƒƒãƒ—", m: "ìˆ"},
        {k: "ãƒ‡ãƒ‘ãƒ¼ãƒˆ", m: "ë°íŒŒíŠ¸"}, {k: "ã‚¹ãƒ¼ãƒ‘ãƒ¼", m: "ìŠˆí¼"}, {k: "ãƒ“ãƒ«", m: "ë¹Œë”©"}, {k: "ã‚¨ãƒ³ã‚¸ãƒ³", m: "ì—”ì§„"},
        
        // --- ì „ìê¸°ê¸° ë° ê°€ì „ ---
        {k: "ãƒ“ãƒ‡ã‚ª", m: "ë¹„ë””ì˜¤"}, {k: "ã‚¹ã‚¤ãƒƒãƒ", m: "ìŠ¤ìœ„ì¹˜"}, {k: "ãƒã‚¤ã‚¯", m: "ë§ˆì´í¬"}, {k: "ãƒ©ã‚¤ãƒˆ", m: "ë¼ì´íŠ¸"},
        {k: "ãƒªãƒ¢ã‚³ãƒ³", m: "ë¦¬ëª¨ì»¨"}, {k: "ãƒãƒƒãƒ†ãƒªãƒ¼", m: "ë°°í„°ë¦¬"}, {k: "ãƒ—ãƒ©ã‚°", m: "í”ŒëŸ¬ê·¸"}, {k: "ãƒ’ãƒ¼ã‚¿ãƒ¼", m: "íˆí„°"},
        {k: "ã‚¨ã‚¢ã‚³ãƒ³", m: "ì—ì–´ì»¨"}, {k: "ãƒ‰ãƒ©ã‚¤ãƒ¤ãƒ¼", m: "ë“œë¼ì´ì–´"}, {k: "ã‚ªãƒ¼ãƒ–ãƒ³", m: "ì˜¤ë¸"}, {k: "ãƒˆãƒ¼ã‚¹ã‚¿ãƒ¼", m: "í† ìŠ¤í„°"},
        {k: "ã‚­ãƒƒãƒãƒ³", m: "ì£¼ë°©(í‚¤ì¹œ)"}, {k: "ãƒªãƒ“ãƒ³ã‚°", m: "ê±°ì‹¤(ë¦¬ë¹™)"}, {k: "ãƒ™ãƒ©ãƒ³ãƒ€", m: "ë² ë€ë‹¤"}, {k: "ãƒ­ãƒ“ãƒ¼", m: "ë¡œë¹„"},
        {k: "ãƒ•ãƒ­ãƒ³ãƒˆ", m: "ì•ˆë‚´ë°ìŠ¤í¬(í”„ëŸ°íŠ¸)"}, {k: "ã‚¨ãƒ¬ãƒ™ãƒ¼ã‚¿ãƒ¼", m: "ì—˜ë¦¬ë² ì´í„°"}, {k: "ã‚¨ã‚¹ã‚«ãƒ¬ãƒ¼ã‚¿ãƒ¼", m: "ì—ìŠ¤ì»¬ë ˆì´í„°"},
        
        // --- ê²½ì œ ë° ì‡¼í•‘ ---
        {k: "ãƒã‚±ãƒƒãƒˆ", m: "í‹°ì¼“"}, {k: "ã‚«ãƒ¼ãƒ‰", m: "ì¹´ë“œ"}, {k: "ã‚­ãƒ£ãƒƒã‚·ãƒ¥", m: "í˜„ê¸ˆ(ìºì‹œ)"}, {k: "ã‚³ã‚¤ãƒ³", m: "ë™ì „(ì½”ì¸)"},
        {k: "ã‚³ã‚¹ãƒˆ", m: "ë¹„ìš©(ì½”ìŠ¤íŠ¸)"}, {k: "ã‚»ãƒ¼ãƒ«", m: "í• ì¸(ì„¸ì¼)"}, {k: "ãƒã‚¤ãƒ³ãƒˆ", m: "í¬ì¸íŠ¸"}, {k: "ãƒ–ãƒ©ãƒ³ãƒ‰", m: "ë¸Œëœë“œ"},
        {k: "ã‚µã‚¤ã‚º", m: "ì‚¬ì´ì¦ˆ"}, {k: "ã‚«ãƒ©ãƒ¼", m: "ìƒ‰ìƒ(ì»¬ëŸ¬)"},
        
        // --- ìƒ‰ìƒ ë° ì¬ì§ˆ ---
        {k: "ãƒ¬ãƒƒãƒ‰", m: "ë¹¨ê°•(ë ˆë“œ)"}, {k: "ãƒ–ãƒ«ãƒ¼", m: "íŒŒë‘(ë¸”ë£¨)"}, {k: "ã‚¤ã‚¨ãƒ­ãƒ¼", m: "ë…¸ë‘(ì˜ë¡œ)"}, {k: "ã‚°ãƒªãƒ¼ãƒ³", m: "ì´ˆë¡(ê·¸ë¦°)"},
        {k: "ãƒ”ãƒ³ã‚¯", m: "ë¶„í™(í•‘í¬)"}, {k: "ãƒ›ãƒ¯ã‚¤ãƒˆ", m: "í•˜ì–€ìƒ‰(í™”ì´íŠ¸)"}, {k: "ãƒ–ãƒ©ãƒƒã‚¯", m: "ê²€ì •ìƒ‰(ë¸”ë™)"}, {k: "ã‚´ãƒ¼ãƒ«ãƒ‰", m: "ê¸ˆìƒ‰(ê³¨ë“œ)"},
        {k: "ã‚·ãƒ«ãƒãƒ¼", m: "ì€ìƒ‰(ì‹¤ë²„)"}, {k: "ãƒ€ã‚¤ãƒ¤ãƒ¢ãƒ³ãƒ‰", m: "ë‹¤ì´ì•„ëª¬ë“œ"}, {k: "ãƒ«ãƒ“ãƒ¼", m: "ë£¨ë¹„"}, {k: "ã‚¬ãƒ©ã‚¹", m: "ìœ ë¦¬(ê°€ë¼ìŠ¤)"},
        {k: "ãƒ—ãƒ©ã‚¹ãƒãƒƒã‚¯", m: "í”Œë¼ìŠ¤í‹±"}, {k: "ã‚´ãƒ ", m: "ê³ ë¬´"}, {k: "ãƒ“ãƒ‹ãƒ¼ãƒ«", m: "ë¹„ë‹"}, {k: "ã‚¢ãƒ«ãƒŸ", m: "ì•Œë£¨ë¯¸ëŠ„"},
        
        // --- ì—ë„ˆì§€ ë° ë¬¼ë¦¬ ---
        {k: "ã‚¨ãƒãƒ«ã‚®ãƒ¼", m: "ì—ë„ˆì§€"}, {k: "ã‚¬ã‚¹", m: "ê°€ìŠ¤"}, {k: "ã‚ªã‚¤ãƒ«", m: "ì˜¤ì¼"}, {k: "ã‚¬ã‚½ãƒªãƒ³", m: "ê°€ì†”ë¦°"},
        {k: "ãƒ‘ãƒ¯ãƒ¼", m: "í˜(íŒŒì›Œ)"}, {k: "ã‚¹ãƒ”ãƒ¼ãƒ‰", m: "ì†ë„(ìŠ¤í”¼ë“œ)"}, {k: "ãƒ¬ãƒ™ãƒ«", m: "ìˆ˜ì¤€(ë ˆë²¨)"}, {k: "ãƒ©ãƒ³ã‚¯", m: "ìˆœìœ„(ë­í¬)"},
        {k: "ãƒˆãƒƒãƒ—", m: "ì •ìƒ(í†±)"}, {k: "ãƒ©ã‚¹ãƒˆ", m: "ë§ˆì§€ë§‰(ë¼ìŠ¤íŠ¸)"}, {k: "ã‚»ãƒ³ã‚¿ãƒ¼", m: "ì¤‘ì‹¬(ì„¼í„°)"}, {k: "ì‚¬ì´ë“œ", m: "ì¸¡ë©´(ì‚¬ì´ë“œ)"},
        
        // --- ìŒì•… ë° ì˜ˆìˆ  ---
        {k: "ãƒªã‚ºãƒ ", m: "ë¦¬ë“¬"}, {k: "ãƒ¡ãƒ­ãƒ‡ã‚£", m: "ì„ ìœ¨(ë©”ë¡œë””)"}, {k: "ã‚½ãƒ³ã‚°", m: "ë…¸ë˜(ì†¡)"}, {k: "ãƒãƒ³ãƒ‰", m: "ë°´ë“œ"},
        {k: "ãƒ‰ãƒ©ãƒ ", m: "ë“œëŸ¼"}, {k: "ãƒã‚¤ã‚ªãƒªãƒ³", m: "ë°”ì´ì˜¬ë¦°"}, {k: "ãƒ•ãƒ«ãƒ¼ãƒˆ", m: "í”Œë£¨íŠ¸"}, {k: "ã‚ªãƒšãƒ©", m: "ì˜¤í˜ë¼"},
        {k: "ãƒŸãƒ¥ãƒ¼ã‚¸ã‚«ãƒ«", m: "ë®¤ì§€ì»¬"}, {k: "ã‚³ãƒ³ã‚µãƒ¼ãƒˆ", m: "ì½˜ì„œíŠ¸"}, {k: "ãƒ©ã‚¤ãƒ–", m: "ë¼ì´ë¸Œê³µì—°"}, {k: "ãƒ•ã‚¡ãƒ³", m: "íŒ¬"},
        
        // --- IT ë° ë¹„ì¦ˆë‹ˆìŠ¤ ---
        {k: "ã‚µã‚¤ãƒ³", m: "ì„œëª…(ì‚¬ì¸)"}, {k: "ãƒ¡ãƒ³ãƒãƒ¼", m: "êµ¬ì„±ì›(ë©¤ë²„)"}, {k: "ã‚°ãƒ«ãƒ¼ãƒ—", m: "ê·¸ë£¹"}, {k: "ãƒªãƒ¼ãƒ€ãƒ¼", m: "ì§€ë„ì(ë¦¬ë”)"},
        {k: "ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸", m: "ë©”ì‹œì§€"}, {k: "ã‚¹ã‚¿ãƒ³ãƒ—", m: "ë„ì¥(ìŠ¤íƒ¬í”„)"}, {k: "ãƒãƒ£ãƒƒãƒˆ", m: "ëŒ€í™”(ì±„íŒ…)"}, {k: "ãƒ¬ãƒ³ã‚º", m: "ë Œì¦ˆ"},
        {k: "ã‚·ãƒ£ãƒƒã‚¿ãƒ¼", m: "ì…”í„°"}, {k: "ã‚¢ãƒ«ãƒãƒ ", m: "ì•¨ë²”"}, {k: "ãƒ•ã‚¡ã‚¤ãƒ«", m: "íŒŒì¼"}, {k: "ãƒ•ã‚©ãƒ«ãƒ€", m: "í´ë”"},
        {k: "ã‚½ãƒ•ãƒˆ", m: "ì†Œí”„íŠ¸ì›¨ì–´"}, {k: "ãƒãƒ¼ãƒ‰", m: "í•˜ë“œì›¨ì–´"}, {k: "ãƒ¡ãƒ¢ãƒª", m: "ë©”ëª¨ë¦¬"}, {k: "ã‚¯ãƒªãƒƒã‚¯", m: "í´ë¦­"},
        {k: "ãƒªãƒ³ã‚¯", m: "ì—°ê²°(ë§í¬)"}, {k: "ãƒ¦ãƒ¼ã‚¶ãƒ¼", m: "ì‚¬ìš©ì(ìœ ì €)"}, {k: "ã‚²ã‚¹ãƒˆ", m: "ì†ë‹˜(ê²ŒìŠ¤íŠ¸)"}, {k: "ã‚¹ã‚¿ãƒƒãƒ•", m: "ì§ì›(ìŠ¤íƒœí”„)"},
        {k: "ã‚ªãƒ•ã‚£ã‚¹", m: "ì‚¬ë¬´ì‹¤(ì˜¤í”¼ìŠ¤)"}, {k: "ãƒŸãƒ¼ãƒ†ã‚£ãƒ³ã‚°", m: "íšŒì˜(ë¯¸íŒ…)"}, {k: "ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ", m: "ê³¼ì œ(í”„ë¡œì íŠ¸)"},
        {k: "ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«", m: "ì¼ì •(ìŠ¤ì¼€ì¤„)"}, {k: "ã‚¢ã‚¤ãƒ‡ã‚¢", m: "ì•„ì´ë””ì–´"}, {k: "ãƒ’ãƒ³ãƒˆ", m: "ë‹¨ì„œ(íŒíŠ¸)"},
        
        // --- ìŠ¤í¬ì¸  ë° ê±´ê°• ---
        {k: "ã‚¹ãƒˆãƒ¬ã‚¹", m: "ìŠ¤íŠ¸ë ˆìŠ¤"}, {k: "ãƒªãƒ©ãƒƒã‚¯ã‚¹", m: "íœ´ì‹(ë¦´ë™ìŠ¤)"}, {k: "ãƒ˜ãƒ«ã‚·ãƒ¼", m: "ê±´ê°•í•¨(í—¬ì‹œ)"},
        {k: "ãƒ“ã‚¿ãƒŸãƒ³", m: "ë¹„íƒ€ë¯¼"}, {k: "ãƒ€ã‚¤ã‚¨ãƒƒãƒˆ", m: "ë‹¤ì´ì–´íŠ¸"}, {k: "ã‚¸ãƒ§ã‚®ãƒ³ã‚°", m: "ì¡°ê¹…"}, {k: "ãƒãƒ©ã‚½ãƒ³", m: "ë§ˆë¼í†¤"},
        {k: "ã‚´ãƒ«ãƒ•", m: "ê³¨í”„"}, {k: "ãƒœã‚¦ãƒªãƒ³ã‚°", m: "ë³¼ë§"}, {k: "ã‚¹ã‚±ãƒ¼ãƒˆ", m: "ìŠ¤ì¼€ì´íŠ¸"}, {k: "ãƒ—ãƒ¼ãƒ«", m: "ìˆ˜ì˜ì¥(í’€)"},
        {k: "ã‚¸ãƒ ", m: "ì²´ìœ¡ê´€(ì§)"}, {k: "ã‚¹ã‚¿ã‚¸ã‚¢ãƒ ", m: "ê²½ê¸°ì¥(ìŠ¤íƒ€ë””ì›€)"}, {k: "ã‚´ãƒ¼ãƒ«", m: "ë“ì (ê³¨)"},
        
        // --- ìŒì‹ ì„¸ë¶€ ---
        {k: "ãƒ©ãƒ³ãƒ", m: "ì ì‹¬(ëŸ°ì¹˜)"}, {k: "ãƒ‡ã‚£ãƒŠãƒ¼", m: "ì €ë…(ë””ë„ˆ)"}, {k: "ãƒ‡ã‚¶ãƒ¼ãƒˆ", m: "í›„ì‹(ë””ì €íŠ¸)"},
        {k: "ã‚¹ã‚¤ãƒ¼ãƒ„", m: "ë‹¨ê²ƒ(ìŠ¤ìœ„ì¸ )"}, {k: "ã‚¯ãƒƒã‚­ãƒ¼", m: "ì¿ í‚¤"}, {k: "ãƒãƒ§ã‚³ãƒ¬ãƒ¼ãƒˆ", m: "ì´ˆì½œë¦¿"}, {k: "ã‚­ãƒ£ãƒ³ãƒ‡ã‚£", m: "ì‚¬íƒ•(ã‚­ãƒ£ãƒ³ãƒ‡ã‚£)"},
        {k: "ã‚½ãƒ¼ã‚¹", m: "ì†ŒìŠ¤"}, {k: "ã‚±ãƒãƒ£ãƒƒãƒ—", m: "ì¼€ì²©"}, {k: "ãƒãƒ¨ãƒãƒ¼ã‚º", m: "ë§ˆìš”ë„¤ì¦ˆ"}, {k: "ãƒã‚¿ãƒ¼", m: "ë²„í„°"},
        {k: "ã‚¸ãƒ£ãƒ ", m: "ì¼"}, {k: "ã‚¹ãƒ¼ãƒ—", m: "ìˆ˜í”„"}, {k: "ã‚«ãƒ¬ãƒ¼", m: "ì¹´ë ˆ"}, {k: "ã‚¹ãƒ†ãƒ¼ã‚­", m: "ìŠ¤í…Œì´í¬"},
        {k: "ãƒãƒ³ãƒãƒ¼ã‚°", m: "í•¨ë°”ê·¸"}, {k: "ãƒãƒ ", m: "í–„"}, {k: "ã‚½ãƒ¼ã‚»ãƒ¼ã‚¸", m: "ì†Œì‹œì§€"}, {k: "ãƒ™ãƒ¼ã‚³ãƒ³", m: "ë² ì´ì»¨"},
        {k: "ãƒ‘ã‚¹ã‚¿", m: "íŒŒìŠ¤íƒ€"}, {k: "ã‚¹ãƒ‘ã‚²ãƒƒãƒ†ã‚£", m: "ìŠ¤íŒŒê²Œí‹°"}, {k: "ãƒ”ã‚¶", m: "í”¼ì"}, {k: "ãƒãƒ†ãƒˆ", m: "ê°ì(í¬í…Œì´í† )"},
        {k: "ãƒˆãƒãƒˆ", m: "í† ë§ˆí† "}, {k: "ãƒ¬ã‚¿ã‚¹", m: "ì–‘ìƒì¶”(ë ˆí„°ìŠ¤)"}, {k: "ã‚­ãƒ£ãƒ™ãƒ„", m: "ì–‘ë°°ì¶”(ìºë¹„ì§€)"}, {k: "ã‚ªãƒ‹ã‚ªãƒ³", m: "ì–‘íŒŒ(ì–´ë‹ˆì–¸)"},
        {k: "ãƒ”ãƒ¼ãƒãƒ³", m: "í”¼ë§"}, {k: "ãƒ¡ãƒ­ãƒ³", m: "ë©œë¡ "}, {k: "ãƒ‘ã‚¤ãƒŠãƒƒãƒ—ãƒ«", m: "íŒŒì¸ì• í”Œ"}, {k: "ã‚°ãƒ¬ãƒ¼ãƒ—", m: "í¬ë„(ã‚°ãƒ¬ãƒ¼í”„)"},
        {k: "ãƒ¬ëª¬", m: "ë ˆëª¬"}, {k: "ã‚¹ãƒˆãƒ­ãƒ™ãƒªãƒ¼", m: "ë”¸ê¸°(ìŠ¤íŠ¸ë¡œë² ë¦¬)"}, {k: "ãƒ”ãƒ¼ì¹˜", m: "ë³µìˆ­ì•„(í”¼ì¹˜)"}, {k: "ã‚¸ãƒ¥ãƒ¼ã‚¹", m: "ì£¼ìŠ¤"},
        {k: "ã‚½ãƒ¼ãƒ€", m: "ì†Œë‹¤"}, {k: "ãƒ¯ã‚¤ãƒ³", m: "ì™€ì¸"}, {k: "ã‚¦ã‚£ã‚¹ã‚­ãƒ¼", m: "ìœ„ìŠ¤í‚¤"}, {k: "ã‚·ãƒ£ãƒ³ãƒ‘ãƒ³", m: "ìƒ´í˜ì¸"},
        
        // --- ìì—° ë° ê³„ì ˆ ---
        {k: "ã‚¹ãƒ—ãƒªãƒ³ã‚°", m: "ë´„(ìŠ¤í”„ë§)"}, {k: "ã‚µãƒãƒ¼", m: "ì—¬ë¦„(ì„œë¨¸)"}, {k: "ã‚ªãƒ¼ã‚¿ãƒ ", m: "ê°€ì„(ì˜¤í…€)"}, {k: "ã‚¦ã‚£ãƒ³ã‚¿ãƒ¼", m: "ê²¨ìš¸(ìœˆí„°)"},
        {k: "ã‚¹ã‚«ã‚¤", m: "í•˜ëŠ˜(ìŠ¤ì¹´ì´)"}, {k: "ãƒ ãƒ¼ãƒ³", m: "ë‹¬(ë¬¸)"}, {k: "ã‚µãƒ³", m: "íƒœì–‘(ì„ )"}, {k: "ãƒ¬ã‚¤ãƒ³", m: "ë¹„(ë ˆì¸)"},
        {k: "ã‚¹ãƒãƒ¼", m: "ëˆˆ(ìŠ¤ë…¸ìš°)"}, {k: "ãƒ•ãƒ©ãƒ¯ãƒ¼", m: "ê½ƒ(í”Œë¼ì›Œ)"}, {k: "ãƒ­ãƒ¼ã‚º", m: "ì¥ë¯¸(ë¡œì¦ˆ)"}
    ];

    let currentQuizSet = [], currentIdx = 0, correctCount = 0, failedQuestions = [], isReviewMode = false;

    function restartOnOptionChange() {
        renderQuestion();
    }

    function startGame() {
        isReviewMode = false; failedQuestions = [];
        currentQuizSet = [...originalData].sort(() => Math.random() - 0.5).slice(0, 10);
        resetState();
    }

    function startRetryMode() {
        isReviewMode = true;
        currentQuizSet = [...failedQuestions].sort(() => Math.random() - 0.5);
        failedQuestions = []; 
        resetState();
    }

    function resetState() {
        currentIdx = 0; correctCount = 0;
        const indicator = document.getElementById('mode-indicator');
        indicator.innerText = isReviewMode ? "ë¬´í•œ ë³µìŠµ ëª¨ë“œ ğŸ”" : "ê¸°ë³¸ í•™ìŠµ ëª¨ë“œ âœ¨";
        indicator.className = "mode-badge " + (isReviewMode ? "mode-review" : "mode-normal");
        document.getElementById('quiz-screen').style.display = 'block';
        document.getElementById('result-screen').style.display = 'none';
        renderQuestion();
    }

    function renderQuestion() {
        if (currentIdx >= currentQuizSet.length) { showResult(); return; }
        
        const q = currentQuizSet[currentIdx];
        const numOptions = parseInt(document.getElementById('option-count').value);
        
        document.getElementById('word-display').innerText = q.m;
        document.getElementById('feedback').innerText = "";
        document.getElementById('current-q-num').innerText = currentIdx + 1;
        document.getElementById('correct-q-num').innerText = correctCount;

        let options = [q.k];
        let others = originalData.filter(item => item.k !== q.k).sort(() => Math.random() - 0.5);
        
        // ë³´ê¸°ì— ì¤‘ë³µì´ë‚˜ í•œê¸€ì´ ì„ì´ì§€ ì•Šë„ë¡ ê°€íƒ€ì¹´ë‚˜(k)ë§Œ ì¶”ì¶œí•˜ì—¬ ì„ìŒ
        for(let i=0; i < numOptions - 1; i++) {
            if(others[i]) options.push(others[i].k);
        }
        options.sort(() => Math.random() - 0.5);

        const optionsDiv = document.getElementById('options');
        optionsDiv.innerHTML = "";
        options.forEach(opt => {
            const btn = document.createElement('button');
            btn.innerText = opt;
            btn.onclick = () => checkAnswer(opt, q);
            optionsDiv.appendChild(btn);
        });
    }

    function checkAnswer(selected, qObj) {
        const allBtns = document.querySelectorAll('#options button');
        allBtns.forEach(b => b.disabled = true);
        
        const feedback = document.getElementById('feedback');
        if (selected === qObj.k) {
            feedback.innerHTML = "<span>ğŸˆ ì •ë‹µì…ë‹ˆë‹¤!</span>";
            feedback.className = "feedback correct";
            correctCount++;
        } else {
            feedback.innerHTML = `<span>ğŸ˜¢ ì •ë‹µ: ${qObj.k}</span>`;
            feedback.className = "feedback incorrect";
            if (!failedQuestions.includes(qObj)) failedQuestions.push(qObj);
        }
        
        currentIdx++; 
        setTimeout(renderQuestion, 1000);
    }

    function showResult() {
        document.getElementById('quiz-screen').style.display = 'none';
        document.getElementById('result-screen').style.display = 'block';
        
        const stats = document.getElementById('result-stats');
        const msg = document.getElementById('result-msg');
        const retryBtn = document.getElementById('retry-failed-btn');
        const resIcon = document.getElementById('res-icon');

        stats.innerText = `${currentQuizSet.length}ë¬¸ì œ ì¤‘ ${correctCount}ê°œ ì„±ê³µ!`;
        
        if (failedQuestions.length > 0) {
            resIcon.innerText = "ğŸŒ¤ï¸";
            msg.innerText = `ì¡°ê¸ˆë§Œ ë” í•˜ë©´ ì™„ë²½í•´ì§ˆ ê±°ì˜ˆìš”!\ní‹€ë¦° ${failedQuestions.length}ë¬¸ì œë¥¼ ë³µìŠµí•´ë³¼ê¹Œìš”?`;
            retryBtn.classList.remove('hidden');
            retryBtn.innerText = `ğŸ” í‹€ë¦° ${failedQuestions.length}ë¬¸ì œ ë³µìŠµí•˜ê¸°`;
        } else {
            resIcon.innerText = "ğŸŒˆ";
            msg.innerText = isReviewMode ? "ì¶•í•˜í•©ë‹ˆë‹¤! ëª¨ë“  ì˜¤ë‹µì„ ì •ë³µí•˜ì…¨ë„¤ìš”." : "ì •ë§ ëŒ€ë‹¨í•´ìš”! ê°€íƒ€ì¹´ë‚˜ ë°•ì‚¬ë‹˜ì´ì‹œë„¤ìš”.";
            retryBtn.classList.add('hidden');
        }
    }

    window.onload = startGame;
</script>
</body>
</html>